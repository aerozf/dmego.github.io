{"title":"Redis系列(一):Redis的简介与安装","date":"2018-10-04T02:02:31.000Z","author":"Dmego","link":"2018/10/04/learn-redis-1","comments":true,"tags":["Redis"],"categories":["技术"],"updated":"2019-12-22T18:21:32.533Z","content":"<a id=\"more\"></a>\n<center>\n<img src=\"/2018/10/04/learn-redis-1/redis-white.png\" width=\"250px\">\n</center>\n<h2 id=\"什么是-redis\"><a class=\"markdownIt-Anchor\" href=\"2018/10/04/learn-redis-1#什么是-redis\"></a> 什么是 Redis<a href=\"2018/10/04/learn-redis-1#什么是-redis\"></a></h2>\n<p>Redis 是一个使用<code>ANSI C</code> 编写的开源、支持网络协议、基于内存、可选持久性的键值对数据库,它是一个<code>NOSQL</code>not only sql)数据库,也就是常说的非关系型数据库。从 2005 年开始，Redis 的开发由 Redis Labs 赞助，之前一直被 Pivotal 和 VMware 先后赞助。根据月度排行网站 <a href=\"http://DB-Engines.com\" target=\"_blank\" rel=\"noopener\">DB-Engines.com</a> 的数据显示，Redis 是最流行的键值对数据库。</p>\n<h2 id=\"redis-应用场景\"><a class=\"markdownIt-Anchor\" href=\"2018/10/04/learn-redis-1#redis-应用场景\"></a> Redis 应用场景<a href=\"2018/10/04/learn-redis-1#redis-应用场景\"></a></h2>\n<p>主要用于数据量大，并发量高的情况下</p>\n<ul>\n<li>数据缓存（页面具体数据），页面缓存（商品内容，新闻内容）</li>\n<li>分布式集群中架构中的Session分离</li>\n<li>应用排行榜，在线好友列表等</li>\n<li>任务队列，例如抢购秒杀等</li>\n</ul>\n<h2 id=\"redis-的安装\"><a class=\"markdownIt-Anchor\" href=\"2018/10/04/learn-redis-1#redis-的安装\"></a> Redis 的安装<a href=\"2018/10/04/learn-redis-1#redis-的安装\"></a></h2>\n<p>Redis 是不支持 windows 版本的，因为其在 windows 下的效率非常低，但是Microsoft 开放技术小组开发和维护了一个针对 <a href=\"https://github.com/MicrosoftArchive/redis\" target=\"_blank\" rel=\"noopener\">windows 版的 Redis</a>,但是从项目记录来看已经有两年没更新了。</p>\n<p>从<a href=\"https://redis.io/\" target=\"_blank\" rel=\"noopener\">官网</a>可以看到，目前最新稳定版为 Redis 4.0.11。此次安装环境选择 centOS ,方式为源码编译安装，所以我们需要有<code>gcc</code>环境，先执行下面的命令安装 <code>gcc</code></p>\n<figure class=\"highlight bash\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install gcc-c++ -y</span><br></pre></td></tr></table></div></figure>\n<p>然后将最新稳定版的源码包下载下来</p>\n<figure class=\"highlight bash\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget http://download.redis.io/releases/redis-4.0.11.tar.gz</span><br></pre></td></tr></table></div></figure>\n<p>解压到<code>/usr/local/</code>目录下</p>\n<figure class=\"highlight bash\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar -zxvf redis-4.0.11.tar.gz -C /usr/<span class=\"built_in\">local</span></span><br></pre></td></tr></table></div></figure>\n<p>进入Redis 目录进行编译</p>\n<figure class=\"highlight bash\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/redis-4.0.11</span><br><span class=\"line\">make</span><br></pre></td></tr></table></div></figure>\n<p>编译完成后，安装到指定目录，例如:/usr/local/redis-6379（也可以直接命令<code>6379</code>，因为可以在同一台机器上运行多个 redis 服务，所以一般以运行端口命名）</p>\n<figure class=\"highlight bash\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/redis-4.0.11</span><br><span class=\"line\">make PREFIX=/usr/<span class=\"built_in\">local</span>/redis-6379 install</span><br></pre></td></tr></table></div></figure>\n<p>安装完成之后，我们还需要拷贝一份 redis 的配置文件——<code>redis.conf</code> 到安装路径下面，<code>redis.conf</code> 在 redis 的源码目录下</p>\n<figure class=\"highlight bash\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/redis-4.0.11</span><br><span class=\"line\">cp redis.conf /usr/<span class=\"built_in\">local</span>/redis-6379/bin/</span><br></pre></td></tr></table></div></figure>\n<p><img src=\"/2018/10/04/learn-redis-1/learn-redis-1%5Credis%E5%AE%89%E8%A3%85%E5%90%8E%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.png\" alt=\"安装目录bin下的文件列表\" class=\"article-img\"></p>\n<div class=\"article-bounded\"><div class=\"article-table\"><table>\n<thead>\n<tr>\n<th style=\"text-align:left\">文件名</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">redis-server</td>\n<td>redis 服务器</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">redis-cli</td>\n<td>redis 命令行客户端</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">redis-benchmark</td>\n<td>redis 性能测试工具</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">redis-check-aof</td>\n<td>aof 文件修复工具</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">redis-check-dump</td>\n<td>rub 文件检查工具</td>\n</tr>\n</tbody>\n</table></div></div>\n<h2 id=\"redis-的启动\"><a class=\"markdownIt-Anchor\" href=\"2018/10/04/learn-redis-1#redis-的启动\"></a> Redis 的启动<a href=\"2018/10/04/learn-redis-1#redis-的启动\"></a></h2>\n<h4 id=\"前端模式启动\"><a class=\"markdownIt-Anchor\" href=\"2018/10/04/learn-redis-1#前端模式启动\"></a> 前端模式启动<a href=\"2018/10/04/learn-redis-1#前端模式启动\"></a></h4>\n<p>如果在<code>bin</code>目录下直接运行 <code>./redis-server</code>将以前端模式启动,启动成功界面如下所示</p>\n<p><img src=\"/2018/10/04/learn-redis-1/learn-redis-1%5Credis%E5%89%8D%E7%AB%AF%E5%90%AF%E5%8A%A8.png\" alt=\"redis前端启动\" class=\"article-img\"></p>\n<p>这种方式启动后，我们不能关闭该窗口，关闭该窗口后 redis 服务将会停止。如果想要使用 redis 需要再开一个窗口。进入到<code>bin</code>目录，运行<code>./redis-cli</code>命令，开启一个 redis 客户端连上 redis 服务。</p>\n<h4 id=\"后端模式启动\"><a class=\"markdownIt-Anchor\" href=\"2018/10/04/learn-redis-1#后端模式启动\"></a> 后端模式启动<a href=\"2018/10/04/learn-redis-1#后端模式启动\"></a></h4>\n<p>我们进入<code>bin</code>目录，先给之前拷贝过来的<code>redis.conf</code>配置文件赋予权限</p>\n<figure class=\"highlight bash\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/redis-6379/bin/</span><br><span class=\"line\">chmod 777 redis.conf</span><br></pre></td></tr></table></div></figure>\n<p>然后打开 <code>redis.conf</code>配置文件，修改启动参数<code>daemonize</code>为<code>yes</code>，以后端方式启动。如果找不到<code>daemonize</code>,可以使用 <code>vim</code>打开文件后，使用<code>:/daemonize</code>来查找，找到后修改<code>no</code>为<code>yes</code>，然后<code>wq</code>保存退出。此时，我们就可以使用如下命令以后端方式启动 redis</p>\n<figure class=\"highlight bash\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./redis-server redis.conf</span><br></pre></td></tr></table></div></figure>\n<p>启动后可以使用<code>ps -aux|grep redis</code>命令来查看是否启动成功</p>\n<p><img src=\"/2018/10/04/learn-redis-1/learn-redis-1%5C%E5%90%8E%E7%AB%AF%E5%90%AF%E5%8A%A8%E6%88%90%E5%8A%9F.png\" alt=\"后端启动成功\" class=\"article-img\"></p>\n<p>如上图所示,默认启动端口为 <code>6379</code></p>\n<h2 id=\"redis-的停止\"><a class=\"markdownIt-Anchor\" href=\"2018/10/04/learn-redis-1#redis-的停止\"></a> Redis 的停止<a href=\"2018/10/04/learn-redis-1#redis-的停止\"></a></h2>\n<p>如果我们强行停止 Redis 的进程可能会导致 Redis 持久化的数据丢失，所以正确停止 Redis 的方式应该是使用 <code>./redis-cli shutdown</code>命令。</p>\n<h2 id=\"redis-客户端的连接和使用\"><a class=\"markdownIt-Anchor\" href=\"2018/10/04/learn-redis-1#redis-客户端的连接和使用\"></a> Redis 客户端的连接和使用<a href=\"2018/10/04/learn-redis-1#redis-客户端的连接和使用\"></a></h2>\n<p>在<code>bin</code>目录下的<code>redis-cli</code>就是 redis 的客户端，执行<code>./redis-cli</code>命令将会连接到 redis 服务器。连接成功后，我们可以使用<code>set key1 111</code>来保存一个值为<code>111</code>名为<code>key1</code>的键值对。使用<code>get key1</code>命令读取<code>key1</code>的数据</p>\n<p><img src=\"/2018/10/04/learn-redis-1/learn-redis-1%5C%E8%BF%9E%E6%8E%A5redis%E5%AE%A2%E6%88%B7%E7%AB%AF.png\" alt=\"连接redis客户端\" class=\"article-img\"></p>\n<h2 id=\"使用redis-可视化工具\"><a class=\"markdownIt-Anchor\" href=\"2018/10/04/learn-redis-1#使用redis-可视化工具\"></a> 使用Redis 可视化工具<a href=\"2018/10/04/learn-redis-1#使用redis-可视化工具\"></a></h2>\n<p>如果想要在Windows、Mac 或Linux 图像界面下可视化操作 Redis ，可以使用 <a href=\"https://github.com/uglide/RedisDesktopManager/\" target=\"_blank\" rel=\"noopener\">Redis Desktop Manager</a>，但是现在对于Windows 和 Mac 不提供下了，不过在网上还能搜到下载的链接。</p>\n<p><img src=\"/2018/10/04/learn-redis-1/learn-redis-1%5C%E8%BF%9E%E6%8E%A5%E5%8F%AF%E8%A7%86%E5%8C%96%E5%B7%A5%E5%85%B7.png\" alt=\"连接可视化工具\" class=\"article-img\"></p>\n<p>另外还有几款开源的可视化工具也不错，例如：<a href=\"https://github.com/caoxinyu/RedisClient\" target=\"_blank\" rel=\"noopener\">Redis Client</a>、<a href=\"https://github.com/cinience/RedisStudio\" target=\"_blank\" rel=\"noopener\">Redis Studio</a>，但是都已经停止更新维护了。</p>\n","prev":{"title":"Redis系列(二):Redis的数据类型及命令操作","link":"2018/10/05/learn-redis-2"},"next":{"title":"为什么说java中只有值传递","link":"2018/08/27/java-only-pass-by-value"},"plink":"https://dmego.me/2018/10/04/learn-redis-1/","toc":[{"title":"<a class=\"markdownIt-Anchor\"></a> 什么是 Redis","id":"什么是-redis","index":"1"},{"title":"<a class=\"markdownIt-Anchor\"></a> Redis 应用场景","id":"redis-应用场景","index":"2"},{"title":"<a class=\"markdownIt-Anchor\"></a> Redis 的安装","id":"redis-的安装","index":"3"},{"title":"<a class=\"markdownIt-Anchor\"></a> Redis 的启动","id":"redis-的启动","index":"4"},{"title":"<a class=\"markdownIt-Anchor\"></a> Redis 的停止","id":"redis-的停止","index":"5"},{"title":"<a class=\"markdownIt-Anchor\"></a> Redis 客户端的连接和使用","id":"redis-客户端的连接和使用","index":"6"},{"title":"<a class=\"markdownIt-Anchor\"></a> 使用Redis 可视化工具","id":"使用redis-可视化工具","index":"7"}],"copyright":{"link":"<a href=\"https://dmego.me/2018/10/04/learn-redis-1/\" title=\"Redis系列(一):Redis的简介与安装\">https://dmego.me/2018/10/04/learn-redis-1/</a>","license":"自由转载-非商用-禁止演绎-保持署名(<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}